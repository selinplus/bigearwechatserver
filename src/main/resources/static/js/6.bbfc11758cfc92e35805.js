webpackJsonp([6],{"XF/x":function(t,e,n){var s=n("p6mh");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,n("rjj0").default)("437561e2",s,!1,{})},e0CP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("Dd8w"),a=n.n(s),i=n("7109"),r=n("0Yob"),l=n("NYxO"),o=i.P.formatDate,c={data:function(){return{orderDetail:{}}},computed:a()({},Object(l.c)(["userInfo"])),mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.$http.post("http://selinplus.natappvip.cc/check/order/detail?orderNum="+this.$route.params.orderNum).then(function(e){"200"==e.data.code?t.orderDetail=e.data.data:t.$q.notify({message:"订单详情获取失败，请刷新后重试！",type:"negative",color:"negative",timeout:1e3,position:"center"})})},dateFmt:function(t){return o(t,"YYYY-MM-DD HH:mm:ss")},cancelOrder:function(t){var e=this;this.$http.post("http://selinplus.natappvip.cc/check/order/delete?orderNum="+t).then(function(t){"200"==t.data.code?e.$router.push("/annualCheckOrder"):e.$q.notify({message:"订单取消失败，请重试！",type:"negative",color:"negative",timeout:1e3,position:"center"})}).catch(function(t){})},continuePay:function(t){var e=this;this.$http.post("http://selinplus.natappvip.cc/pay/createOrder",{body:"JSAPITEST",outTradeNo:this.orderDetail.orderNum,totalFee:this.orderDetail.totalFee,spbillCreateIp:"218.56.36.83",notifyUrl:"http://selinplus.natappvip.cc/pay/parseOrderNotifyResult",tradeType:"JSAPI",openid:this.userInfo.openId,signType:"MD5"}).then(function(t){var n=e;r.c(t.data,function(t){n.fetchData()},function(t){n.$router.push({name:"预约详情",params:{orderNum:n.order.orderNum}})})}).catch(function(t){console.log(t)})}}},d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("div",{staticClass:"row"},[n("q-card",{staticClass:"col-xs-12",attrs:{"no-border":"",flat:""}},[n("q-card-media",{staticStyle:{height:"180px"},attrs:{"overlay-position":"bottom"}},[n("img",{attrs:{src:"statics/mountains.jpg"}}),t._v(" "),n("q-card-title",{staticClass:"text-center",attrs:{slot:"overlay"},slot:"overlay"},[t._v("\n          ¥  "+t._s(t.orderDetail.totalFee)+"\n        ")])],1),t._v(" "),n("q-item",{staticClass:"q-pt-lg"},[n("q-item-main",{staticClass:"gutter-xs"},[n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("车牌号"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.platenum))])]),t._v(" "),n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("姓名"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.name))])]),t._v(" "),n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("手机号"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.phone))])]),t._v(" "),n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("预约时间"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.dateFmt(t.orderDetail.orderDate)))])]),t._v(" "),t.orderDetail.vehicleType?n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("安检:"+t._s(t.orderDetail.vehicleType)),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v("¥-"+t._s(t.orderDetail.vehicleTypeFee))])]):t._e(),t._v(" "),t.orderDetail.secuAddition?n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v(t._s(t.orderDetail.secuAddition)),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v("¥-"+t._s(t.orderDetail.secuAdditionFee))])]):t._e(),t._v(" "),t.orderDetail.fuelType?n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("燃油类型"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.fuelType))])]):t._e(),t._v(" "),t.orderDetail.envCheckType?n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("环检:"+t._s(t.orderDetail.envCheckType)),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v("¥-"+t._s(t.orderDetail.envCheckTypeFee))])]):t._e(),t._v(" "),n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("缴费方式"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.paymentMethod))])]),t._v(" "),n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("缴费状态"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.payStatus))])])],1)],1),t._v(" "),n("q-item-separator"),t._v(" "),n("q-item",[n("q-item-main",{staticClass:"gutter-xs"},[n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("创建时间"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.dateFmt(t.orderDetail.createTime)))])]),t._v(" "),n("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("订单号"),n("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.orderNum))])])],1)],1),t._v(" "),"未支付"==t.orderDetail.payStatus?n("q-card-actions",{staticClass:"col row"},[n("div",{staticClass:"col text-center q-mb-md"},[n("q-btn",{staticClass:"q-mr-md",attrs:{outline:"",label:"取消订单",color:"negative",size:"sm"},on:{click:function(e){t.cancelOrder(t.orderDetail.orderNum)}}}),t._v(" "),n("q-btn",{attrs:{outline:"",label:"继续支付",color:"positive",size:"sm"},on:{click:function(e){t.continuePay(t.orderDetail.orderNum)}}})],1)]):t._e()],1)],1)])},m=[];d._withStripped=!0;var u=n("XyMi"),v=!1;var p=function(t){v||n("XF/x")},_=Object(u.a)(c,d,m,!1,p,null,null);_.options.__file="src/pages/orderDetail.vue";e.default=_.exports},p6mh:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});