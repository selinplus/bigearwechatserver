(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"6p9y":function(t,e,s){"use strict";var a=s("D2lm"),i=s.n(a);i.a},D2lm:function(t,e,s){},Gfc9:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("div",{staticClass:"row"},[s("q-card",{staticClass:"col-xs-12",attrs:{"no-border":"",flat:""}},[s("q-card-media",{staticStyle:{height:"180px"},attrs:{"overlay-position":"bottom"}},[s("img",{attrs:{src:"statics/mountains.jpg"}}),s("q-card-title",{staticClass:"text-center",attrs:{slot:"overlay"},slot:"overlay"},[t._v("\n          ¥  "+t._s(t.orderDetail.totalFee)+"\n        ")])],1),s("q-item",{staticClass:"q-pt-lg"},[s("q-item-main",{staticClass:"gutter-xs"},[s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("车牌号"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.platenum))])]),s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("姓名"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.name))])]),s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("手机号"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.phone))])]),s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("预约时间"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.dateFmt(t.orderDetail.orderDate)))])]),t.orderDetail.vehicleType?s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("安检:"+t._s(t.orderDetail.vehicleType)),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v("¥-"+t._s(t.orderDetail.vehicleTypeFee))])]):t._e(),t.orderDetail.secuAddition?s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v(t._s(t.orderDetail.secuAddition)),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v("¥-"+t._s(t.orderDetail.secuAdditionFee))])]):t._e(),t.orderDetail.fuelType?s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("燃油类型"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.fuelType))])]):t._e(),t.orderDetail.envCheckType?s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("环检:"+t._s(t.orderDetail.envCheckType)),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v("¥-"+t._s(t.orderDetail.envCheckTypeFee))])]):t._e(),s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("缴费方式"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.paymentMethod))])]),s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("缴费状态"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.payStatus))])])],1)],1),s("q-item-separator"),s("q-item",[s("q-item-main",{staticClass:"gutter-xs"},[s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("创建时间"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.dateFmt(t.orderDetail.createTime)))])]),s("q-item-tile",{staticClass:"row justify-between q-ml-md",attrs:{sublabel:""}},[t._v("订单号"),s("div",{staticClass:"q-mr-md",staticStyle:{color:"#444"}},[t._v(t._s(t.orderDetail.orderNum))])])],1)],1),"未支付"==t.orderDetail.payStatus?s("q-card-actions",{staticClass:"col row"},[s("div",{staticClass:"col text-center q-mb-md"},[s("q-btn",{staticClass:"q-mr-md",attrs:{outline:"",label:"取消订单",color:"negative",size:"sm"},on:{click:function(e){t.cancelOrder(t.orderDetail.orderNum)}}}),s("q-btn",{attrs:{outline:"",label:"继续支付",color:"positive",size:"sm"},on:{click:function(e){t.continuePay(t.orderDetail.orderNum)}}})],1)]):t._e()],1)],1)])},i=[];a._withStripped=!0;var r=s("MVZn"),l=s.n(r),o=s("4IOb"),c=s("SQGN"),d=s("L2JU"),n=o["P"].formatDate,m={data:function(){return{orderDetail:{}}},computed:l()({},Object(d["c"])(["userInfo"])),mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.$http.post("http://www.ytjdcjc.cn/check/order/detail?orderNum="+this.$route.params.orderNum).then(function(e){"200"==e.data.code?t.orderDetail=e.data.data:t.$q.notify({message:"订单详情获取失败，请刷新后重试！",type:"negative",color:"negative",timeout:1e3,position:"center"})})},dateFmt:function(t){return n(t,"YYYY-MM-DD HH:mm:ss")},cancelOrder:function(t){var e=this;this.$http.post("http://www.ytjdcjc.cn/check/order/delete?orderNum="+t).then(function(t){"200"==t.data.code?e.$router.push("/annualCheckOrder"):e.$q.notify({message:"订单取消失败，请重试！",type:"negative",color:"negative",timeout:1e3,position:"center"})}).catch(function(t){})},continuePay:function(t){var e=this;this.$http.post("http://www.ytjdcjc.cn/pay/createOrder",{body:"JSAPITEST",outTradeNo:this.orderDetail.orderNum,totalFee:this.orderDetail.totalFee,spbillCreateIp:"218.56.36.83",notifyUrl:"http://www.ytjdcjc.cn/pay/parseOrderNotifyResult",tradeType:"JSAPI",openid:this.userInfo.openId,signType:"MD5"}).then(function(t){var s=e;c["c"](t.data,function(t){s.fetchData()},function(t){s.$router.push({name:"预约详情",params:{orderNum:s.order.orderNum}})})}).catch(function(t){console.log(t)})}}},u=m,v=(s("6p9y"),s("KHd+")),p=Object(v["a"])(u,a,i,!1,null,null,null);e["default"]=p.exports}}]);